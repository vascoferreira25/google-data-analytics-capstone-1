<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Google Data Analytics Capstone 1</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The capstone for the course Google Data Analytics on Coursera.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
                <link rel="stylesheet" href="docs-markdown/css/styles.css">
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="setup.html"><strong aria-hidden="true">1.</strong> Setup</a></li><li class="chapter-item expanded "><a href="data_merging.html"><strong aria-hidden="true">2.</strong> Merging data</a></li><li class="chapter-item expanded "><a href="data_cleaning.html"><strong aria-hidden="true">3.</strong> Cleaning data</a></li><li class="chapter-item expanded "><a href="analysis.html"><strong aria-hidden="true">4.</strong> Analysis</a></li><li class="chapter-item expanded affix "><a href="conclusion.html">Conclusion</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Google Data Analytics Capstone 1</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>The capstone for the course Google Data Analytics on Coursera.</p>
<h2 id="project-structure"><a class="header" href="#project-structure">Project structure</a></h2>
<p>The directory structure of this project looks like this: </p>
<pre><code>├── LICENSE
├── README.md          &lt;- The top-level README for developers using this project.
├── data
│   ├── external       &lt;- Data from third party sources.
│   ├── interim        &lt;- Intermediate data that has been transformed.
│   ├── processed      &lt;- The final, canonical data sets for modeling.
│   └── raw            &lt;- The original, immutable data dump.
│
├── docs               &lt;- Where the mdBook documentation will stay
│
├── models             &lt;- Trained and serialized models, model predictions, or model summaries
│
├── notebooks          &lt;- Jupyter notebooks. Naming convention is a number (for ordering),
│                         the creator's initials, and a short `-` delimited description, e.g.
│                         `1.0-jqp-initial-data-exploration`.
│
├── references         &lt;- Data dictionaries, manuals, and all other explanatory materials.
│
├── reports            &lt;- Generated analysis as HTML, PDF, LaTeX, etc.
│   └── figures        &lt;- Generated graphics and figures to be used in reporting
│
├── google_data_analytics_capstone_1.Rproj &lt;- r-project environment variables
│
├── book.toml          &lt;- Settings for mdBook
</code></pre>
<h2 id="steps"><a class="header" href="#steps">Steps</a></h2>
<p>To reproduce this project, run the <code>R notebooks</code> in the following order:</p>
<ol>
<li>Data Merging</li>
<li>Data Cleaning</li>
<li>Report</li>
<li>Conclusion</li>
</ol>
<hr />
<p>Written by Vasco Ferreira.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setup"><a class="header" href="#setup">Setup</a></h1>
<p>The data provided in the Google Data Analysis Course is split by month. At the
moment of writing this report, the data was from 2020-04 to 2021-05.</p>
<p>The data files were in the <code>CSV</code> format and were zipped. The original files
were saved in the <code>./data/external</code> folder and then extracted to the
<code>./data/raw</code> folder.</p>
<p>The data was fetched from <a href="https://divvy-tripdata.s3.amazonaws.com/index.html">Divvy
tripdata</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="merging-data"><a class="header" href="#merging-data">Merging data</a></h1>
<p>As the data is split into several files, the first step to make sense of the
data is to merge it into a single file.</p>
<p>The original data looked like this:</p>
<table><thead><tr><th>ride_id</th><th>rideable_type</th><th>started_at</th><th>ended_at</th><th>start_station_name</th><th>start_station_id</th><th>end_station_name</th><th>end_station_id</th><th>start_lat</th><th>start_lng</th><th>end_lat</th><th>end_lng</th><th>member_casual</th></tr></thead><tbody>
<tr><td>A847FADBBC638E45</td><td>docked_bike</td><td>2020-04-26 17:45:14</td><td>2020-04-26 18:12:03</td><td>Eckhart Park</td><td>86</td><td>Lincoln Ave &amp; Diversey Pkwy</td><td>152</td><td>41.8964</td><td>-87.661</td><td>41.9322</td><td>-87.6586</td><td>member</td></tr>
<tr><td>5405B80E996FF60D</td><td>docked_bike</td><td>2020-04-17 17:08:54</td><td>2020-04-17 17:17:03</td><td>Drake Ave &amp; Fullerton Ave</td><td>503</td><td>Kosciuszko Park</td><td>499</td><td>41.9244</td><td>-87.7154</td><td>41.9306</td><td>-87.7238</td><td>member</td></tr>
<tr><td>5DD24A79A4E006F4</td><td>docked_bike</td><td>2020-04-01 17:54:13</td><td>2020-04-01 18:08:36</td><td>McClurg Ct &amp; Erie St</td><td>142</td><td>Indiana Ave &amp; Roosevelt Rd</td><td>255</td><td>41.8945</td><td>-87.6179</td><td>41.8679</td><td>-87.623</td><td>member</td></tr>
<tr><td>2A59BBDF5CDBA725</td><td>docked_bike</td><td>2020-04-07 12:50:19</td><td>2020-04-07 13:02:31</td><td>California Ave &amp; Division St</td><td>216</td><td>Wood St &amp; Augusta Blvd</td><td>657</td><td>41.903</td><td>-87.6975</td><td>41.8992</td><td>-87.6722</td><td>member</td></tr>
<tr><td>27AD306C119C6158</td><td>docked_bike</td><td>2020-04-18 10:22:59</td><td>2020-04-18 11:15:54</td><td>Rush St &amp; Hubbard St</td><td>125</td><td>Sheridan Rd &amp; Lawrence Ave</td><td>323</td><td>41.8902</td><td>-87.6262</td><td>41.9695</td><td>-87.6547</td><td>casual</td></tr>
</tbody></table>
<p>The final data has around 4.3 million rows.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cleaning-data"><a class="header" href="#cleaning-data">Cleaning data</a></h1>
<p>The process to clean the data is the following:</p>
<ol>
<li>Check if the trip duration is correct by calculating it using the formula
\(\text{ended_at} - \text{started_at} &gt; 0\).</li>
<li>Check if there is any <code>usertype</code> missing</li>
<li>Check if there is any <code>station</code> missing</li>
<li>Even if the station is missing, keep data that has the <code>latitude</code> and
<code>longitude</code> so we can calculate the distance traveled.</li>
<li>Calculate the distance traveled with the <a href="https://en.wikipedia.org/wiki/Haversine_formula">Haversine
Formula</a></li>
</ol>
<p><strong>Note:</strong> This process will take a while to complete as it uses at least 2-3GB
RAM and the <code>Haversine</code> formula takes a while to calculate all the distances
for all the 4.3 million rows.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="analysis"><a class="header" href="#analysis">Analysis</a></h1>
<p>This data analytics report is one the Capstone Exercises for the Google Data
Analytics Course on Coursera. This case study is about a bike-sharing company
that aims to increase the number of annual members (subscribers) as these type
of members are the most profitable for the company.</p>
<p>Information about the company:</p>
<ul>
<li>5800 bikes</li>
<li>600 docking stations</li>
<li>different types of bikes:
<ul>
<li>traditional bikes</li>
<li>reclining bikes</li>
<li>hand tricycles</li>
<li>cargo bikes</li>
</ul>
</li>
<li>92% of members use traditional bikes</li>
<li>8% of members use the other types of bikes</li>
<li>70% of members use bikes for leisure</li>
<li>30% of members use bikes for commuting</li>
</ul>
<p>The task is to answer the first question of the new marketing program:</p>
<blockquote>
<p>How do annual members and casual riders use Cyclistic bikes differently?</p>
</blockquote>
<h2 id="how-many-users-have-a-membership-status"><a class="header" href="#how-many-users-have-a-membership-status">How many users have a membership status?</a></h2>
<p>To answer this question we need to first group the data by each member type and
then calculate some basic descriptive statistics:</p>
<p><img src="./img/img1.png" alt="How many of our users have a membership status" /></p>
<p>In this graph we can see that almost 60% of our users have a membership status.</p>
<h2 id="what-is-the-most-used-type-of-bike"><a class="header" href="#what-is-the-most-used-type-of-bike">What is the most used type of bike?</a></h2>
<p><img src="./img/img2.png" alt="What type of bike do our users use the most" /></p>
<p>Both types of users use the <code>docked bike</code> the most but, the <code>member</code> users use
the <code>classic bike</code> more than the <code>electrict bike</code>. The <code>casual</code> users prefer
the <code>electric bike</code> over the <code>classic bike</code>.</p>
<h2 id="for-how-long-do-our-users-travel"><a class="header" href="#for-how-long-do-our-users-travel">For how long do our users travel?</a></h2>
<p><img src="./img/img3.png" alt="Distribution of trip duration by user type" /></p>
<p><img src="./img/img4.png" alt="Distribution of trip duration by user type" /></p>
<p>The average <code>casual</code> user spends twice more of the time of a <code>member</code> during a
trip - 20 minutes versus 11 minutes. And the trip duration is more spread out
among <code>casual</code> members. This should be the case of the majority of the users
using bikes for leisure trips as indicated in the basic information.</p>
<h2 id="how-far-do-our-users-travel"><a class="header" href="#how-far-do-our-users-travel">How far do our users travel?</a></h2>
<p>Although the distance calculated through the latitude and longitude isn't the
most accurate representation of the distance traveled as trips may not be in a
straight line, it is the only representation that we currently have.</p>
<p><img src="./img/img5.png" alt="Distribution of distance traveled by user type" /></p>
<p><img src="./img/img6.png" alt="Distribution of distance traveled by user type" /></p>
<p>The average <code>casual</code> and <code>member</code> users travel about the same distance,
however, the <code>member</code> users' shorter trips are longer than the <code>casual</code> users'.</p>
<h2 id="when-do-our-users-travel"><a class="header" href="#when-do-our-users-travel">When do our users travel?</a></h2>
<p><img src="./img/img7.png" alt="Users per day of the week" /></p>
<p>In this graph we notice that <code>member</code> users most probably use our bikes for
commuting during the week as oposed to <code>casual</code> members who use our bikes more
at weekends.</p>
<h2 id="how-many-users-do-we-have-through-the-year"><a class="header" href="#how-many-users-do-we-have-through-the-year">How many users do we have through the year?</a></h2>
<p><img src="./img/img8.png" alt="Number of users over the year (14 days moving average)" /></p>
<p><img src="./img/img9.png" alt="Average distance traveled over the year (14 days moving average)" /></p>
<p>It is very difficult to draw conclusions from this graph for the simple fact
that this is not a normal year as the world was affected by COVID-19 and
COVID-19 also has trends. However, we can clearly see a trend in users over the
year so that in the summer there are more users than in the rest of year.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h1>
<p>The problem is: <code>How do annual members and casual riders use Cyclistic bikes differently?</code>. The stakeholders involved in this problem are Lily Moreno, the
director of marketing and my manager, the marketing team that is interested in
helping the company and the executive team that will decide whether to approve
the marketing program. To make it more effective to convey the result of the
program to the stakeholders I must take into account the fact that:</p>
<ul>
<li>the executive is detail-oriented</li>
<li>the marketing team needs to better understand how annual members and casual
riders differ, why casual riders would buy a membership, and how digital
media could affect their marketing tactics.</li>
<li>and the manager is responsible for the the development of the marketing
campaigns.</li>
</ul>
<p>Also, I've tried to do this exercise by following a few conventions, such as
file structure (cookiecutter data science template that I adapted to the R
project) and filling out different R notebooks for different steps. The report
is also a separate file to allow export to other formats such as PDF and HTML.</p>
<p>(For this case study, the data was supplied as if being data collected by the
company itself so I will follow that roleplay.)</p>
<p>The data was collected by the company itself during the last year. It is
organized by month, ranging from 2020-04 to 2021-05. The data is standardized -
I assume it was collected by using sensors on the bikes themselves and also the
whole subscription software system that handles all the data about the users
and the bikes. I will also assume that there are no problems with bias as the
data is about all the bikes and users - not a sample - and finding out if the
product itself is biased towards a specific type of user is a problem outside
of this case study.</p>
<p>I split the cleaning in two steps: merging and cleaning. The first step is
merging the data of the different months into a single dataset and the second
step is about ensuring that there are no missing data, wrongly typed membership
status, bike types. Also, I've calculated the trip duration and the distance
traveled (by using the latitude and longitude). This two new columns will help
on filtering/fixing errors about dates and distances.  Data that had dates and
longitude and latitude data missing were removed.</p>
<p>This is what I found about the data:</p>
<ul>
<li>almost 60% of users have a <code>membership status</code></li>
<li>the most used bike is the <code>docked bike</code></li>
<li>in terms of distance, both users do around 1km</li>
<li>in terms of time traveled, the <code>casual</code> user spends about 20 minutes and the
<code>member</code> user spends about 11 minutes</li>
<li>there are more <code>casual</code> users at weekends</li>
<li><code>members</code> use bikes throughout the week - I assume that they are commuting</li>
<li>there are more users (both members and casuals) during the summer, more
specifically July - October</li>
<li><code>casuals</code> travel more distance on October-January and members travel more
distance on July - October</li>
</ul>
<p>All the graphs I've made are standard graphs used in analysis:</p>
<ul>
<li>bar</li>
<li>line</li>
<li>box-plot</li>
<li>histogram.</li>
</ul>
<p>I'm not proud of any of the graphs as there isn't anything new, but the last
graphs I've made pointed me to consider about COVID-19 as the lows coincide
with the periods of confinement of the pandemic.</p>
<p>Honestly, I don't know what to recommend. I don't have enough information nor
experience to know what should be done in this case. To make matters worse, the
fluctuations in users and distance/time traveled also change accordingly to the
COVID-19 fluctuations. Before writing any conclusions I would have to speak
with the manager and the team before arriving at any conclusion. This
particular situation isn't something I alone can manage. I don't have enough
information.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
                
    </body>
</html>
